<div class="flex flex-col p-8 h-full items-center justify-center">

    <div *ngIf="productState().type === 'loading'">
        <p>Cargando producto...</p>
    </div>

    <div *ngIf="productState().type === 'success'"
        class="w-full max-w-[700px] bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700">
        <div class="p-8 rounded-t-lg aspect-[3/2] overflow-hidden">
            <img class="h-full w-full" src="{{productState().data.images[0]}}" alt="product image" />
        </div>
        <div class="px-5 pb-5">
            <h5 class="text-xl font-semibold tracking-tight text-gray-900 dark:text-white">
                {{ productState().data.title | titlecase }}
            </h5>

            <div class="flex items-center justify-between">
                <span class="text-3xl font-bold text-gray-900 dark:text-white">
                    {{ productState().data.price | monetary }}
                </span>
            </div>

            <div class="py-6">
                <hr>
            </div>

            <div>
                {{ productState().data.desc }}
            </div>

            <div class="flex flex-row justify-center pt-6">
                @if(productState().data.status == 'sold') {
                    <app-product-button [title]="'Comprar'" [isDisabled]="true"></app-product-button>
                } @else if(productState().data.sellerId == currentUser()?.uid) {
                    <app-product-button [title]="'Modificar'" (action)="goToUpdate()" />
                } @else {
                    <app-product-button [title]="'Comprar'" (action)="buy()" />
                }
            </div>

        </div>
    </div>

    <div *ngIf="productState().type === 'error'">
        <p>Error: {{ productState().error }}</p>
    </div>
    
</div>